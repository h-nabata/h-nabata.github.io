<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nabata's personal page</title>
  
  <!--   KaTeX settings (2024/05/19)   -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
  <!-- The loading of KaTeX is deferred to speed up page rendering -->
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
  <!-- To automatically render math in text elements, include the auto-render extension: -->
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
      onload="renderMathInElement(document.body);"></script>

  <!--   Highlight.js settings (2024/05/19)   -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- and it's easy to individually load additional languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
  <script>hljs.highlightAll();</script>
  
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="molecule-visualizer_style.css">
  <link rel="icon" href="img/favicon.ico">
  <link rel="apple-touch-icon" href="img/favicon_candle.png" sizes="180x180">
    <meta charset="UTF-8">
    <title>分子構造描画</title>
    <link rel="stylesheet" href="molecule-visualizer_style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/3dmol@1.6.2/build/3Dmol-min.js"></script>
    <script defer src="molecule-visualizer_main.js"></script>
</head>
<body>
      <header class="header">
      <div class="header-left">
          <a href="https://h-nabata.github.io/"><img class="logo" src="https://h-nabata.github.io/img/favicon_candle.png" alt="Logo"></a>
          &nbsp;&nbsp;<span id="todaysdate"></span>&nbsp;(<span id="dayofweek"></span>)
      </div>
<!--       <span class="fa fa-bars menu-icon"></span> -->
      <div class="menu-icon gaming" onclick="toggleMenu()">&#9776;</div>
      <div class="header-right dropdown-menu">
          <a href="https://h-nabata.github.io/index.html">トップページ - Top Page</a>
          <a href="https://h-nabata.github.io/toc.html">目次 - Table of Contents</a>
          <a href="https://sites.google.com/view/nabatas-page/top/grrm-tips%E5%88%A9%E7%94%A8%E4%B8%8A%E3%81%AE%E6%B3%A8%E6%84%8F%E7%82%B9%E3%81%AA%E3%81%A9?authuser=0">GRRM Tips（旧サイト）</a>
          <a href="https://sites.google.com/view/nabatas-page/top/%E5%8F%82%E8%80%83%E8%B3%87%E6%96%99%E3%81%A8%E5%82%99%E5%BF%98%E9%8C%B2?authuser=0">参考資料と備忘録（旧サイト）</a>
      </div>
    <script type="text/javascript">
        function showDate() {
            var now = new Date();
            var year = now.getFullYear();
            var month = now.getMonth() + 1; // 月は0から始まるので1を足す
            var day = now.getDate();
            return year + "/" + month + "/" + day;
        }

        function showDayOfWeek() {
            var weeks = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            var now = new Date();
            var weekdays = now.getDay();
            return weeks[weekdays];
        }

        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("todaysdate").innerHTML = showDate();
            document.getElementById("dayofweek").innerHTML = showDayOfWeek();
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });

        function toggleMenu() {
            const menu = document.querySelector('.dropdown-menu');
            if (menu.style.display === 'flex') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'flex';
            }
        }
    </script>
    
  </header>
  <div class="container" style="padding: 15px">
    <h1>分子構造描画</h1>
    <div class="container">
        <div class="input-container">
            <textarea id="xyz_input" rows="10" cols="80" placeholder="XYZ形式で座標情報をここに貼り付け

（記入例）
24
C8N4H10O2 (caffeine)
O        0.470000000      2.568800000      0.000600000
O       -3.127100000     -0.443600000     -0.000300000
N       -0.968600000     -1.312500000      0.000000000
N        2.218200000      0.141200000     -0.000300000
N       -1.347700000      1.079700000     -0.000100000
N        1.411900000     -1.937200000      0.000200000
C        0.857900000      0.259200000     -0.000800000
C        0.389700000     -1.026400000     -0.000400000
C        0.030700000      1.422000000     -0.000600000
C       -1.906100000     -0.249500000     -0.000400000
C        2.503200000     -1.199800000      0.000300000
C       -1.427600000     -2.696000000      0.000800000
C        3.192600000      1.206100000      0.000300000
C       -2.296900000      2.188100000      0.000700000
H        3.516300000     -1.578700000      0.000800000
H       -1.045100000     -3.197300000     -0.893700000
H       -2.518600000     -2.759600000      0.001100000
H       -1.044700000     -3.196300000      0.895700000
H        4.199200000      0.780100000      0.000200000
H        3.046800000      1.809200000     -0.899200000
H        3.046600000      1.808300000      0.900400000
H       -1.808700000      3.165100000     -0.000300000
H       -2.932200000      2.102700000      0.888100000
H       -2.934600000      2.102100000     -0.884900000"></textarea>
            <br>
            <button onclick="renderMolecule()">描画</button>
            <button onclick="copyToClipboard()">入力例をコピー</button>
            <button onclick="toggleMoveMode()">移動モード切り替え</button>
        </div>
        <div id="viewer"></div>
    </div>
    <script>
        function copyToClipboard() {
            const textToCopy = `24
C8N4H10O2
O        0.470000000      2.568800000      0.000600000
O       -3.127100000     -0.443600000     -0.000300000
N       -0.968600000     -1.312500000      0.000000000
N        2.218200000      0.141200000     -0.000300000
N       -1.347700000      1.079700000     -0.000100000
N        1.411900000     -1.937200000      0.000200000
C        0.857900000      0.259200000     -0.000800000
C        0.389700000     -1.026400000     -0.000400000
C        0.030700000      1.422000000     -0.000600000
C       -1.906100000     -0.249500000     -0.000400000
C        2.503200000     -1.199800000      0.000300000
C       -1.427600000     -2.696000000      0.000800000
C        3.192600000      1.206100000      0.000300000
C       -2.296900000      2.188100000      0.000700000
H        3.516300000     -1.578700000      0.000800000
H       -1.045100000     -3.197300000     -0.893700000
H       -2.518600000     -2.759600000      0.001100000
H       -1.044700000     -3.196300000      0.895700000
H        4.199200000      0.780100000      0.000200000
H        3.046800000      1.809200000     -0.899200000
H        3.046600000      1.808300000      0.900400000
H       -1.808700000      3.165100000     -0.000300000
H       -2.932200000      2.102700000      0.888100000
H       -2.934600000      2.102100000     -0.884900000`;
            
            // テキストエリアを一時的に作成
            const tempTextArea = document.createElement("textarea");
            tempTextArea.value = textToCopy;
            document.body.appendChild(tempTextArea);
            
            // テキストを選択してコピー
            tempTextArea.select();
            document.execCommand("copy");
            
            // 一時的なテキストエリアを削除
            document.body.removeChild(tempTextArea);
            
            // コピー完了メッセージを表示
            alert("入力例がクリップボードにコピーされました。");
        }
    </script>
    </div>
</body>
</html>
